# `routers/agent_chat.py` - Agent Chat Routes

This document describes the `backend/app/routers/agent_chat.py` file, which defines API routes related to multi-agent (Agentic) chat functionality.

## Function Description
*   **Agent Chat Messages**: Provides an interface for users to interact with the multi-agent system.
*   **Workflow Orchestration**: When `AGENTIC_RAG_ENABLE=TRUE`, this route is responsible for orchestrating the workflow of different agents (e.g., information retrieval agent, code generation agent, file processing agent, etc.) to respond to user queries.
*   **Tool Usage**: Agents may call various tools during this process to complete tasks.

## Logic Implementation
1.  **`add_agent_conversation_message(message: schemas.AgentChatRequest, db: Session = Depends(get_db), current_user: User = Depends(auth.get_current_active_user))`**:
    *   Receives chat messages sent by the user.
    *   Activates the multi-agent workflow if `AGENTIC_RAG_ENABLE` is configured to `True`.
    *   **Orchestration Logic**:
        *   `orchestrator_agent` receives user queries and decides which sub-agents need to be activated to handle the request.
        *   `information_retrieval_agent` is used to retrieve information from the knowledge base.
        *   `code_generation_agent` is used to generate code.
        *   `file_processing_agent` is used to process files.
        *   `reasoning_planning_agent` is used for complex reasoning and planning.
        *   `validation_agent` is used to validate results.
        *   `formatting_output_agent` is used to format the final output.
    *   Agents collaborate through internal message passing and state management.
    *   Saves the replies generated by agents to the database (MongoDB).
    *   Returns the replies generated by agents.
    *   `@router.post("/add_agent_conversation_message")`

## Path
`/backend/app/routers/agent_chat.py`
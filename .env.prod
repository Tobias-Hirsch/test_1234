# ==================================================
# Production Environment Variables
# Combined from .env and .env.prod
# ==================================================

# --- Service URLs (Production Specific) ---
MINERU_PARSE_BACKEND="vlm-sglang-client"
MINERU_SGLANG_SERVER_URL="http://mineru-sglang-server:30000"
# OLLAMA_EMBEDDING_URL="http://ollama-embedding:11434/api" # Deprecated, use OLLAMA_EMBEDDING_API_URL
OLLAMA_SERVING_URL="http://ollama-serving:11434/api"
OLLAMA_EMBEDDING_API_URL="http://ollama-embedding:11434/api/embeddings"
OLLAMA_EMBEDDING_MODEL_NAME="dengcao/Qwen3-Embedding-0.6B:F16"
# The following are deprecated in prod and replaced by the above
# MINERU_API_URL="http://1.116.119.85:8908/api/v1/do_parse"
# OLLAMA_URL=http://ollama-serving:11434/api


# --- Ollama Models & Settings ---
RERANK_STRATEGY=local
LOCAL_RERANKER_MODEL=/models/bge-reranker-large
LOCAL_EMBEDDING_MODEL=intfloat/multilingual-e5-large
OLLAMA_RERANKER_MODEL=dengcao/Qwen3-Reranker-8B:Q5_K_M
OLLAMA_EMBEDDING_MODEL=dengcao/Qwen3-Embedding-8B:Q4_K_M
OLLAMA_QWEN_MODEL=qwen3:32b
OLLAMA_CHAT_MODEL=qwen3:32b
OLLAMA_COT_MODEL=deepseek-r1:32b
OLLAMA_LLAVA_MODEL=llava:latest
OLLAMA_QWEN_VL_MAX_LASTEST=qwen2.5vl:32b
OLLAMA_DEVICE=
OLLAMA_NUM_PREDICT=4096
MAX_CONTEXT_TOKENS=6000
VECTOR_DIM=1024

# --- API Keys ---
QW_API_KEY=

# --- MinIO Configuration ---
CUSTOMER_MINIO_ENDPOINT=http://10.16.114.20:9000
CUSTOMER_MINIO_ACCESS_KEY=rosti
CUSTOMER_MINIO_SECRET_KEY=rufactors
CUSTOMER_MINIO_BUCKET_NAME=customer-rag-bucket

MINIO_ENDPOINT=minio:9000
MINIO_ACCESS_KEY=Y64XazTFoDBa6L2Y0TAK
MINIO_SECRET_KEY=47HMr1BKbGoK3IaBVljVvHGjeL4Sq0cIGehPvqaH
MINIO_BUCKET_NAME=mm-rag-bucket
MINIO_CHAT_BUCKET_NAME=chat-attachments
MINIO_AVATAR_BUCKET_NAME=avatars

# --- SMTP Configuration ---
SMTP_SERVER=smtp.office365.com
SMTP_PORT=587
SMTP_USER=cnsuasmtp@rosti.com	
SMTP_PASSWORD=k4wUmxFBqT
SMTP_SENDER_EMAIL=cnsuasmtp@rosti.com


# --- JWT Configuration ---
SECRET_KEY="BwaUoGzt-tZ4w2VKdgXnOb0vrD6wUPKO_Tqs5ZfGDF0"
ALGORITHM="HS256"
ACCESS_TOKEN_EXPIRE_MINUTES=1440

# --- Multi-Agent Configuration ---
MAX_VALIDATION_RETRIES=5

# --- LDAP Configuration ---
MSAD_SSO_ENABLED=False
LDAP_SERVER=ldaps://RostiStella.Group:636
LDAP_Domain=RostiStella
LDAP_BASE_DN=DC=RostiStella,DC=Group
LDAP_BIND_DN=CN=ldapuser,OU=Users,DC=RostiStella,DC=Group
LDAP_BIND_PASSWORD=your_ldap_password
LDAP_USER_SEARCH_BASE=OU=Users,DC=RostiStella,DC=Group
LDAP_USER_SEARCH_FILTER=(sAMAccountName={username})
LDAP_USER_ID_ATTRIBUTE=sAMAccountName
LDAP_USER_DISPLAY_NAME_ATTRIBUTE=displayName
LDAP_USER_EMAIL_ATTRIBUTE=mail
LDAP_USER_DEPARTMENT_ATTRIBUTE=department
LDAP_USER_SECURITY_LEVEL_ATTRIBUTE=extensionAttribute1
LDAP_USER_ACCOUNT_CONTROL_ATTRIBUTE=userAccountControl
LDAP_USE_SSL=True
LDAP_VALIDATE_CERT=True

# --- Conversation Configuration ---
REMOVE_OLD_CONVERSATIONS_AFTER_DAYS=30

# --- Agentic Configuration ---
AGENTIC_RAG_ENABLE=FALSE
AI_TEMPLATE_SEGMENT_SPLIT_MAX_SIZE=2000
SCAN_DETECTION_THRESHOLD_DEFAULT=20

# --- Default Admin User Configuration ---
CREATE_DEFAULT_ADMIN=False
DEFAULT_ADMIN_USERNAME=admin
DEFAULT_ADMIN_EMAIL=jinglu.han@ark-techx.com
DEFAULT_ADMIN_PASSWORD=your_super_secret_password

# --- Frontend URL ---
FRONTEND_BASE_URL=http://localhost

# --- PaddleOCR Service Configuration ---
PADDLEOCR_API_URL=http://paddleocr:8080

# --- LatexOCR Service Configuration ---
LATEXOCR_API_URL=http://latexocr:8002/predict

# --- Local Paths (Review if needed for Prod) ---
LOCAL_OLLAMA_MODELS_PATH=/home/cjb/.ollama

# --- PDF Processing Strategy ---
# Determines the strategy for processing PDF files.
# Options:
#   - "sglang": Use the VLM-based sglang service for parsing. (Default for new features)
#   - "pipeline": Use the traditional Unstructured.io pipeline. (Fallback/Workaround)
PDF_PROCESSING_STRATEGY=pipeline
EMBEDDING_STRATEGY=ollama
